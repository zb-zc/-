# 图像格式YUV以及RGB
## **YUV**
Y表示明亮度，而U和V表示色度。对于每个像素点来说，并不是每个像素点都包含了YUV三个分量。    
yuv图像的主流采样方式有如下三种：  
1. YUV 444采样
2. YUV 422采样
3. YUV 420采样  
### YUV 444采样
YUV444采样意味着Y、U、V三个分量的采样比例相同，因此在生成的图像里，每个像素的三个分量信息完整，都是8bit（一个字节）  

```
加入图像像素为[Y0 U0 V0]、{Y1 U1 V2}...........
那么采样的码流为：Y0 U0 V0 Y1 U1 V1.....
```
当将RGB图像转换为YUV图像时，先要转换为YUV444格式。因为这种格式和GRB图像的格式时相同的
### YUV 422采样
意味着 UV分量是Y分量的一半
```
加入图像像素为[Y0 U0 V0]、{Y1 U1 V2}...........
采样的码流是 Y0 U0 Y1 V1 Y2 U2 Y3 V3

Y分量每次都会采，但是uv分量都是间隔一个采一个。第一和第二像素点共用了 U0、V1 分量
```
一张1920*1080大小的图片，在yuv422采样方式下，大小为
```
(1080*1920*8(Y所占大小)+1080*1920*8*2*0.5(UV分量))/8/1024/1024  
Y分量：UV分量为1：1
```
### YUV 420采样
基于YUV420的采样方式又分为 YUV420P和YUV420SP 
 ```
 假设图像像素为：[Y0 U0 V0]、[Y1 U1 V1]、 [Y2 U2 V2]、 [Y3 U3 V3]  
 那么采样的码流为：Y0 U0 Y1 Y2 U2 Y3 Y5 V5 Y6 Y7 V7 Y8  
 其中，每采样过一个像素点，都会采样其 Y 分量，而 U、V 分量就会间隔一行按照 2 : 1 进行采样。所以Y:UV为 2：1  

 一张1920*1080的照片所占空间的大小为：1920*1080*8+1920*1080*8/2 单位是bit
 Y占用的空间为1920*1080*8，所占的空间为1920*1080*8/2.

 ```
**YUV420P**  
这种方式是先将所有的Y分量存储完毕后再存储剩下的uv分量，根据存储U分量和V分量的先后顺序又分为**YU12**和**YV12**格式 
```
Y分量所占的空间的位置为1920*1080（在文件中存储的位置）
uv分量所占空间的位置为1920*1080+1920*1080/2
```

**YUV420SP**  
这种方式也是先将所有的Y分量存储，不同的是YUV420SP将U分量和V分量交替存储，按照UV还是VU又分为**NV12**格式和**NV21**格式

## **RGB**
RGB三个字母分别代表了红、绿、黄，这三种颜色称为三原色，每一个像素点的颜色显示都采用RGB编码方法，将RGB分别取不同的值，就会展示不同的颜色。  

这里只讨论像素形式的存储方式，在像素形式的存储方式下，主流的有RGB565、RGB555、RGB24、RGB32、ARGB32

### **RGB565**
每个像素用16bit表示，占两个字节，RGB分量分别使用5bit、6bit、5bit。从高位到低位依次是RGB  
获取RGB分量的值的方法:color 为像素点变量 为short类型:
``` 
R = color & 0XF800;
G = color & 0X07E0;
B = color & 0X001F;
```

### **RGB555**  
每个像素用16bit表示，占两个字节，RGB分量分别使用5bit、5bit、5bit。(最高位不使用) 从高位到低位依次是RGB    

### **RGB24（BGR）**
 每个像素用三个字节来表示，每个分量各占一个字节。排列顺序为BGR
 ### **RGB32（BGRA）**

每个像素用四个字节来表示，每个分量各占一个字节。排列顺序为BGR，最后一个字节保留


## RGB到YUV的转换
![](https://glumes2blog.oss-cn-shenzhen.aliyuncs.com/blog/rgba-to-yuv.webp)
## YUV到RGB的转换
![](https://glumes2blog.oss-cn-shenzhen.aliyuncs.com/blog/rgba-to-yuv-2.webp)

